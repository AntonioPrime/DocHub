skinparam useBetaStyle true
allow_mixing
'!pragma layout elk
'!pragma layout smetana
skinparam {
    HyperLinkColor #000
	wrapWidth 200
	maxMessageSize 200
	'hide stereotype
	defaultfontname Roboto, sans-serif
	roundCorner 10
	'linetype ortho
	'linetype polyline
	nodesep 70
	ranksep 70
	shadowing false
	padding 2
}

<style>
    component {
        BackGroundColor #fff
        RoundCorner 10
        LineColor #000
        FontColor #333
        HyperLinkColor #333

        .focus {
            FontColor #fff
            BackGroundColor #3495db
            HyperLinkColor #fff
            HyperLinkUnderline false
        }
    }
    database {
        BackGroundColor #fff
        RoundCorner 10
        LineColor #000
        FontColor #333
        HyperLinkColor #333

        .focus {
            FontColor #fff
            BackGroundColor #3495db
            HyperLinkColor #fff
            HyperLinkUnderline false
        }
    }
    queue {
        BackGroundColor #fff
        RoundCorner 10
        LineColor #000
        FontColor #333
        HyperLinkColor #333

        .focus {
            FontColor #fff
            BackGroundColor #3495db
            HyperLinkColor #fff
            HyperLinkUnderline false
        }
    }
</style>

!unquoted procedure $Region($alias, $label, $type)
    !if ($type)
        rectangle "$label" <<$type>> as $alias
    !else
        rectangle "$label" as $alias
    !endif
!endprocedure

!unquoted procedure $Header($Title="Header", $Authors="Name", $Version="0.1", $Date="01.01.1999")
    header
        !if ($Authors)
            Authors: $Authors
        !endif
        !if ($Version)
            Version: $Version
        !endif
        !if ($Date)
            Date: $Date
        !endif

    endheader

    hide empty members

    title $Title
!endprocedure


'Стили Person
skinparam component<<Person>> {
	backgroundColor Transparent
	borderColor Transparent
	shadowing false
	hide stereotype
	borderthickness 1
	FontSize 14
    FontStyle Bold
}




!unquoted procedure $Entity($entity, $ACName, $id, $ACType)
    !if ($entity == component)
        component "$ACName" as $id
    !elseif ($entity == system)
        component $id[
            <b>$ACName</b>
            ====
    !elseif ($entity == actor || $entity == person)
        actor $id <<Person>> [
        ..===$ACName..
        ]
    !else
        $entity $id [
            <b>$ACName</b>
            ====
    !endif
!endprocedure

!unquoted procedure $EntityEnd($entity)
    !if ($entity == component)
'nothing
    !elseif ($entity == system)
        ]
    !elseif ($entity == actor || $entity == person)
'nothing
    !else
        ]
    !endif
!endprocedure

!unquoted procedure $EntityAspect($entity, $prop)
    !if ($entity == component)
        * $prop
    !elseif ($entity == system)
        * $func
    !elseif ($entity == actor || $entity == person)
'nothing
    !else
        * $prop
    !endif
!endprocedure

!unquoted procedure $EntityExpand($entity, $ID)
    !if ($entity == component)
'nothing
    !elseif ($entity == system)
        ---
        [[/architect/contexts/$ID ≫≫]]
    !elseif ($entity == actor || $entity == person)
'nothing
    !else
'nothing
    !endif
!endprocedure
