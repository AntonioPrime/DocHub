imports:
  #  - http://localhost:8080/metamodel/root.yaml
  - https://dochub.info/documentation/root.yaml
#  - root.yaml

entities:
  tech_components_classified:
    title: Классификатор
    schema:
      $defs:
        # Базовые типы Технологических компонентов
        tech_components_types:
          title: Тип технологического компонента
          type: string
          enum: [СХД аппаратные, СХД программные,Серверы аппаратные, Серверы виртуальные, Объектные хранилища, Кластеризация, Контейнеризация, СРК, Мониторинг, Сеть LAN, Сеть WAN, Сеть  Каналы передачи данных, Сеть Компонеты ТС, Лицензии ]
        #Базовые свойства Технологического компонента
        tech_components_entity_base:
          type: object
          properties:
            title:
              title: Наименование
              type: string
            description:
              title: Описание
              type: string
            component_type:
              $ref: "#/$defs/tech_components_types"
          required:
            #- entity # Видимо не нужно
            #- title # Видимо не нужно
            - component_type
        tech_components_server:
          $ref: "#/$defs/tech_components_entity_base"
          properties:
            test:
              title: test
              type: string
          required:
            - test

  tech_components_server_metal:
    title: Servers Physical
    schema: # JSON Schema контролирующая описание объекта сущности
      type: object
      patternProperties:
        "^[a-zA-Z0-9_\\.]*$":
          $ref: "#/$defs/tech_components_server"
          properties:
            vendor_model:
              title: Производитель, модель
              type: string
            fqdn_name:
              title: Имя сервера FQDN
              type: string
            os_name:
              title: Операционная система
              type: string
            as_name:
              title: Автоматизированная система
              type: string
            as_component_name:
              title: Компонент АС
              type: string
            cpu_arch:
              title: Архитектура Процессора
              type: string
            cpu_amount:
              title: Общее количество ядер (без HT), шт.
              type: string #число
            ram_amount:
              title: Количество RAM, GB
              type: integer
            ssd_amount:
              title: SSD, GB
              type: integer
            sas_amount:
              title: SAS, GB
              type: integer
            storage:
              title: Подключенные СХД
              type: string #ссылка на СХД
            nic_amount:
              title: Количество NIC
              type: integer
            vlan:
              title: Подключенные VLAN
              type: array
            dc_name:
              title: Имя ЦОД/Серверной комнаты
              type: string
          required:
            - vendor_model
            - fqdn_name
            - os_name
            - as_name
            - as_component_name
            - cpu_arch
            - cpu_amount
            - ram_amount
            - nic_amount
            - dc_name

  tech_components_server_virtual:
    title: Servers Virtual
    schema: # JSON Schema контролирующая описание объекта сущности
      type: object
      patternProperties:
        "[a-zA-Z0-9_\\.]*":
          $ref: "#/$defs/tech_components_server"
          properties:
            provider:
              title: Поставщик
              type: string
            virtual_type:
              title: Тип виртуализации(гипервизор)
              type: string
            fqdn_name:
              title: Имя сервера FQDN
              type: string
            os_name:
              title: Операционная система
              type: string
            as_name:
              title: Автоматизированная система
              type: string
            as_component_name:
              title: Компонент АС
              type: string
            cpu_arch:
              title: Архитектура Процессора
              type: string
            cpu_amount:
              title: Общее количество ядер, шт.
              type: string #число
            ram_amount:
              title: Количество RAM, GB
              type: integer
            ssd_amount:
              title: SSD, GB
              type: integer
            sata_amount:
              title: SATA, GB
              type: integer
            sas_amount:
              title: SAS, GB
              type: integer
            nic_amount:
              title: Количество NIC
              type: integer
            dc_name:
              title: Имя  ЦОД/Серверной комнаты
              type: string


